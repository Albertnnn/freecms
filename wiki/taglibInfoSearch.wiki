#summary infoSearch.
#labels free,cms,freecms,freeteam,开源,免费,内容管理系统,infoSearch

= infoSearch=
　
<p>
<span style="font-family:'宋体';font-size:10.5pt;">根据参数和搜索关键词提取信息分页对象。</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
<table style="width:402.7pt;border-collapse:collapse;">
<tbody>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;">参数</span><span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;">说明</span><span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">siteid</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">信息所属站点id</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">channelid</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">信息所属栏目id</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">num</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">每页显示数量</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">order</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">排序类型  </span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">1 固顶有效并降序,发布时间降序(默认)</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">2 固顶有效并降序,发布时间升序</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">3 发布时间降序</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">4 发布时间升序</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">titleLen</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">标题显示长度</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">hot</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">是否按点击热度倒序，1是</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">dateFormat</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">日期格式</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">img</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">是否只提取带图片的新闻</span><span style="font-family:'宋体';font-size:10.5pt;"> </span><span style="font-family:'宋体';font-size:10.5pt;">1是</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">page</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">当前第几页，默认是1</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">key</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">搜索关键词</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">newdays</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-style:italic;font-family:'宋体';font-size:10.5pt;font-weight:bold;">从FreeCMS 1.</span><span style="font-style:italic;font-family:'宋体';font-size:10.5pt;font-weight:bold;">5</span><span style="font-style:italic;font-family:'宋体';font-size:10.5pt;font-weight:bold;">开始支持</span><span style="font-style:italic;font-family:'宋体';font-size:10.5pt;font-weight:bold;"></span> 
</p>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">几天内为最新</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
</tbody>
</table>
<p>
<span style="font-family:'宋体';font-size:10.5pt;"></span>
</p>
<table style="width:402.7pt;border-collapse:collapse;">
<tbody>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;">返回值</span><span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;">说明</span><span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">infoList</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">信息对象列表，类型为List&lt;数据对象info&gt;</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
<tr>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">pager</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
<td>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">分页对象</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
</td>
</tr>
</tbody>
</table>
<p>
<span style="font-family:'宋体';font-size:10.5pt;"></span>
</p>
<p>
<span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;">示例1</span><span style="font-family:'宋体';font-size:10.5pt;font-weight:bold;"></span> 
</p>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">编写搜索表单</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
{{{
　　<form action="${contextPath}templet_pro.do">
　　	<input type="hidden" name="siteid" value="${site.id}"/>
　　	<input type="hidden" name="templetPath" value="搜索页面.html"/>
　　	关键字：
　　	<input name="key" type="text" />
　　	<input type="submit" value="搜索" />
　　</form>
}}}
<p>
<span style="font-family:'宋体';font-size:10.5pt;">templet_pro.do会把参数转换为freemarker数据模型并使用参数templetPath值所对应的页面进行处理并返回处理结果。</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
<p>
<img alt="" src="http://static.oschina.net/uploads/space/2013/1109/082817_YQI0_916014.png" /><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
<p>
<span style="font-family:'宋体';font-size:10.5pt;">显示搜索结果</span><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>
{{{
　　　　<@infoSearch siteid="${site.id}" num="1" action="${contextPath}templet_pro.do"
　　					titleLen="48" dateFormat="yyyy-MM-dd" key="${key}" page="${page!1}"; infoList,pager>
　　       <table border="0" cellspacing="0" cellpadding="0">
　　			<#list infoList as info>
　　	        <tr>
　　	          <td class="p_list_dot"><img src="images/dot1.gif" width="3" height="3" /></td>
　　	          <td class="p_list_bt"><a href="${info.pageurl}" target="_blank">${info.showtitle}</a></td>
　　	          <td class="p_list_sj">${info.addtimeStr}</td>
　　	        </tr>
　　			</#list>
　　		     
　　    </table>
　　      <table border="0" cellspacing="0" cellpadding="0">
　　        <tr>
　　          <td class="p_list_tiaoz">
　　		${pager.formPageStr}</td>
　　        </tr>
　　    </table>
　　					</@infoSearch>
}}}
<p>
<img alt="" src="http://static.oschina.net/uploads/space/2013/1109/082835_WO9S_916014.png" /><span style="font-family:'宋体';font-size:10.5pt;"></span> 
</p>