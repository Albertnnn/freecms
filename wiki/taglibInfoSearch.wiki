#summary infoSearch.
#labels free,cms,freecms,freeteam,开源,免费,内容管理系统,infoSearch

= infoSearch=
<p>
	<span style="font-family: 宋体">根据参数和搜索关键词提取信息分页对象。</span></p>
<p>
	 </p>
<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse">
	<tbody>
		<tr>
			<td>
				<p>
					<b><span style="font-family: 宋体">参数</span></b></p>
			</td>
			<td>
				<p>
					<b><span style="font-family: 宋体">说明</span></b></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">siteid</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">信息所属站点<span>id</span></span></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">channelid</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">信息所属栏目<span>id</span></span></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">num</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">提取数量</span></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">order</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">排序类型<span><span>  </span></span></span></p>
				<p>
					<span style="font-family: 宋体">1 </span><span style="font-family: 宋体">固顶有效并降序<span>,</span>发布时间降序<span>(</span>默认<span>)</span></span></p>
				<p>
					<span style="font-family: 宋体">2 </span><span style="font-family: 宋体">固顶有效并降序<span>,</span>发布时间升序</span></p>
				<p>
					<span style="font-family: 宋体">3 </span><span style="font-family: 宋体">发布时间降序</span></p>
				<p>
					<span style="font-family: 宋体">4 </span><span style="font-family: 宋体">发布时间升序</span></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">titleLen</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">标题显示长度</span></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">hot</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">是否按点击热度倒序，<span>1</span>是</span></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">dateFormat</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">日期格式</span></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">img</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">是否只提取带图片的新闻<span><span>  </span>1</span>是</span></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">page</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">当前第几页，默认是<span>1</span></span></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">key</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">搜索关键词</span></p>
			</td>
		</tr>
	</tbody>
</table>
<p>
	 </p>
<p>
	 </p>
<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse">
	<tbody>
		<tr>
			<td>
				<p>
					<b><span style="font-family: 宋体">返回值</span></b></p>
			</td>
			<td>
				<p>
					<b><span style="font-family: 宋体">说明</span></b></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">infoList</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">信息对象列表，类型为<span>List&lt;</span>数据对象<span>info&gt;</span></span></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>
					<span style="font-family: 宋体">pager</span></p>
			</td>
			<td>
				<p>
					<span style="font-family: 宋体">分页对象</span></p>
			</td>
		</tr>
	</tbody>
</table>
<p>
	 </p>
<p>
	<b><span style="font-family: 宋体">示例<span>1</span></span></b></p>
<p>
	<span style="font-family: 宋体">编写搜索表单</span></p>
<p>
{{{
<form action="${contextPath}templet_pro.do">
	<input type="hidden" name="siteid" value="${site.id}"/>
	<input type="hidden" name="templetPath" value="搜索页面.html"/>
	关键字：
	<input name="key" type="text" />
	<input type="submit" value="搜索" />
</form>

}}}
</p>
<p>
	<span style="font-family: 宋体">templet_pro.do</span><span style="font-family: 宋体">会把参数转换为<span>freemarker</span>数据模型并使用参数<span>templetPath</span>值所对应的页面进行处理并返回处理结果。</span></p>
<p>
	<span style="font-family: 宋体"><a href="http://static.oschina.net/uploads/space/2013/0104/203514_XE5Y_916014.png" target="_blank"><img alt="" src="http://static.oschina.net/uploads/space/2013/0104/203514_XE5Y_916014.png" style="cursor: pointer" /></a></span></p>
<p>
	 </p>
<p>
	<span style="font-family: 宋体">显示搜索结果</span></p>
<p>
{{{
<@infoSearch siteid="${site.id}" num="25" action="${contextPath}templet_pro.do"
titleLen="48" dateFormat="yyyy-MM-dd" key="${key}" page="${page!1}"; infoList,pager>
<ul>
	<#list infoList as info>
	<li>
			<a href="${info.pageurl}" target="_blank">${info.showtitle}</a>
			${info.addtimeStr}
	</li>
	</#list>
</ul>
${pager.pageStr}
</@infoSearch>
}}}
</p>
<p><a href="http://static.oschina.net/uploads/space/2013/0104/203534_2px6_916014.png" target="_blank"><img alt="" src="http://static.oschina.net/uploads/space/2013/0104/203534_2px6_916014.png" style="cursor: pointer" /></a></p>